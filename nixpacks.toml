# Configuração Nixpacks para aplicação Node.js + TypeScript
# Node.js 22 será detectado automaticamente via engines.node no package.json

[phases.setup]
nixPkgs = ["...", "nodejs"]

[phases.install]
cmds = [
  "npm ci --omit=dev",
  "npm run build:server"
]

[phases.build]
cmds = [
  "mkdir -p server/uploads",
  "mkdir -p dist-client"
]

[start]
cmd = "npx ts-node server/src/server.ts"
